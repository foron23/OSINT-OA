# =============================================================================
# OSINT News Aggregator - Environment Configuration
# =============================================================================
# 
# INSTRUCCIONES:
# 1. Copiar este archivo a .env: cp .env.example .env
# 2. Configurar las variables requeridas (marcadas con [REQUIRED])
# 3. Las demás tienen valores por defecto sensibles
#
# SEGURIDAD:
# - NUNCA subir .env a control de versiones
# - Usar secretos de Docker o vault en producción empresarial
# =============================================================================

# =============================================================================
# [REQUIRED] OpenAI Configuration
# =============================================================================
# API Key de OpenAI para los agentes LangChain
# Obtener en: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key-here

# Modelo a usar (opciones: gpt-4o, gpt-4o-mini, gpt-4-turbo, gpt-3.5-turbo)
# gpt-4o-mini es recomendado para balance costo/rendimiento
OPENAI_MODEL=gpt-4o-mini

# =============================================================================
# [OPTIONAL] Telegram Integration - MCP Client
# =============================================================================
# Credenciales para la API de Telegram (no confundir con Bot API)
# Obtener en: https://my.telegram.org/apps
#
# IMPORTANTE: Estas credenciales permiten acceso completo a la cuenta.
# La primera vez hay que autenticarse manualmente (ver documentación).

# Telegram API credentials (usar uno de los dos formatos)
TELEGRAM_APP_ID=your-telegram-app-id
TELEGRAM_API_HASH=your-telegram-api-hash

# Alternativa (formato del binario telegram-mcp)
TG_APP_ID=${TELEGRAM_APP_ID}
TG_API_HASH=${TELEGRAM_API_HASH}

# Dialog de destino para publicar reportes
# Formato: "Nombre del Chat" o ID numérico
TELEGRAM_TARGET_DIALOG=

# =============================================================================
# [OPTIONAL] Telegram MCP Service Mode
# =============================================================================
# Modo de ejecución del cliente Telegram MCP:
# - true: Conectar al servicio HTTP (recomendado en Docker, más rápido)
# - false: Ejecutar binario on-demand (más lento, para desarrollo)
# - auto: Detectar automáticamente (usa servicio si está en Docker)
TELEGRAM_MCP_USE_SERVICE=auto

# URL del servicio Telegram MCP (solo si USE_SERVICE=true)
TELEGRAM_MCP_SERVICE_URL=http://localhost:5001

# =============================================================================
# [OPTIONAL] Telegram Bot API (alternativa más simple)
# =============================================================================
# Si prefieres usar un bot en lugar de cuenta personal
# Crear bot con @BotFather: https://t.me/BotFather
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# =============================================================================
# [OPTIONAL] Search APIs
# =============================================================================
# Tavily Search API (recomendado, optimizado para LLMs)
# Obtener en: https://tavily.com/
TAVILY_API_KEY=

# Google Custom Search (alternativa)
# Configurar en: https://developers.google.com/custom-search
GOOGLE_API_KEY=
GOOGLE_CSE_ID=

# =============================================================================
# [OPTIONAL] LangSmith Tracing (Debugging y Monitoreo)
# =============================================================================
# LangSmith permite ver trazas de los agentes para debugging
# Obtener en: https://smith.langchain.com/
LANGSMITH_TRACING=false
LANGSMITH_API_KEY=
LANGSMITH_PROJECT=osint-agents

# =============================================================================
# Flask Configuration
# =============================================================================
# Entorno: development | production
FLASK_ENV=production

# Debug mode (0=off, 1=on) - SIEMPRE 0 en producción
FLASK_DEBUG=0

# Clave secreta para sesiones Flask
# Generar con: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-this-to-a-random-string-in-production

# Puerto del host (para docker-compose)
HOST_PORT=5000

# =============================================================================
# Database Configuration
# =============================================================================
# Path a la base de datos SQLite
# En Docker: /app/data/osint.db (no cambiar)
DATABASE_PATH=./data/osint.db

# =============================================================================
# Gunicorn Configuration (Production Server)
# =============================================================================
# Número de workers (recomendado: 2-4 × CPUs)
GUNICORN_WORKERS=4

# Threads por worker (recomendado: 2-4)
GUNICORN_THREADS=2

# Timeout para requests (segundos)
# Las operaciones OSINT pueden ser lentas, usar valor alto
GUNICORN_TIMEOUT=120

# =============================================================================
# Rate Limits and Security
# =============================================================================
# Timeout por defecto para operaciones (segundos)
DEFAULT_TIMEOUT=30

# Máximo de tareas concurrentes
MAX_CONCURRENT_TASKS=5

# Rate limit: requests por minuto
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# Dominios permitidos para scope de búsqueda (separados por coma)
# Vacío = sin restricción
ALLOWED_SCOPE_DOMAINS=

# Máximo de resultados por query
MAX_RESULTS_PER_QUERY=100


