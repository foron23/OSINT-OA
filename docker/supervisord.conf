[supervisord]
nodaemon=true
user=root
logfile=/app/logs/supervisord.log
logfile_maxbytes=50MB
loglevel=info
pidfile=/tmp/supervisord.pid
childlogdir=/app/logs

[program:flask-api]
command=/opt/venv/bin/python app.py
directory=/app
user=osint
autostart=true
autorestart=true
priority=100

[program:telegram-listener]
command=/opt/venv/bin/python scripts/run_listener.py
directory=/app
user=osint
autostart=true
autorestart=true
priority=200
startsecs=5

[group:osint-oa]
programs=flask-api,telegram-listener
